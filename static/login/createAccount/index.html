<!DOCTYPE html>
    <html lang = 'en'>
    <!-- Matthew Senese, Matthew O'Malley, Jon Rayo -->

    <head>
        <meta charset = 'UTF-8'>
        <title>Noteify</title>
        <link rel = "stylesheet" href = "index.css">
        <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
    </head>

    <!-- Navigation bar to get back to home page -->
    <ul class="navbar">
        <li><a href="https://noteify.azurewebsites.net/">Home</a></li>
        <li><a href="https://noteify.azurewebsites.net/login">Login</a></li>
        <li><a href="https://noteify.azurewebsites.net/logout">Logout</a></li>
        <li><a href="https://noteify.azurewebsites.net/noteify">Noteify</a></li>
        <li><a href="https://noteify.azurewebsites.net/notes">Notes</a></li>
        <li class = "hideIt"><a href="https://noteify.azurewebsites.net/projectProposal">About</a></li>
    </ul>

    <!-- Script for functions -->
    <script>
        async function createAccount() {
            const uName = document.getElementById("newUsername").value;
            const pWord = document.getElementById("newPassword").value;
            const pWord2 = document.getElementById("newPassword2").value;
            if (uName == "" || pWord == "" || pWord2 == "") {
                alert("ERROR: Missing required field(s)")
            }
            else if (pWord != pWord2) {
                alert("ERROR: Passwords must be the same")
            } 
            else {
                // Submit username and password to server
                const fetchString = "/login?newUsername="+uName+"&newPassword="+pWord+"&newPassword2"+pWord2
                const response = await fetch(fetchString)
                const responseText = await response.text()
                console.log(responseText)
                return responseText
            }
        }
            
    </script>

    <!-- Header -->
    <body>
        <h1 class = "toptitle">Noteify</h1>
        <p class = "topsubtitle">Start Taking Note</p>
    
    <div class = "mainbody">
        <h2 style = "margin-top: 0;">Create Noteify Account</h2><br>

        <!-- Input boxes for username and password -->
        <h3>Enter a fun username: </h3>
        <div style = "margin-top: -1px; padding-bottom: 8px;">
            <form name = "usernameForm" class = "user-name" action="">
                <label class = "usernameBox" for = "newUsername"></label>
                <input type = "text" id="newUsername" placeholder = "Username" name = "newUsername">            
        </div>

        <h3>Enter a password: </h3>
        <div style = "margin-top: -1px; padding-bottom: 8px;">
            <form name = "passwordForm" class = "pass-word" action="">
                <label class = "passwordBox" for = "newPassword"></label>
                <input type = "text" id="newPassword" placeholder = "Password" name = "newPassword">            
        </div>

        <h3>Enter the same password: </h3>
        <div style = "margin-top: -1px; padding-bottom: 8px;">
            <form name = "passwordForm" class = "pass-word" action="">
                <label class = "passwordBox" for = "newPassword"></label>
                <input type = "text" id="newPassword2" placeholder = "Repeat Password" name = "newPassword">            
        </div>
    </p>

    <button style = "border: 2px solid black; border-radius: 5%; margin: 10px;" class = "submitButton" 
    id = "Submit" type = "button" onclick = "createAccount()">Create Account</button>

    </body>

    <div style = "position: relative; text-align: center">
        <a href = "https://noteify.azurewebsites.net/login/createAccount">
        <p class = "bottomnav"><span style = "border-radius: 10px; padding: 1px; border-width: 1px;
        background-color: rgb(233, 233, 233); border-style: solid;">&nbsp;www.noteify.com/create&nbsp;</span></p></a>
    </div>

    
    </html>