<!DOCTYPE html>
    <html lang = 'en'>
    <!-- Matthew Senese, Matthew O'Malley, Jon Rayo -->

    <head>
        <meta charset = 'UTF-8'>
        <title>Noteify</title>
        <link rel = "stylesheet" href = "index.css">
        <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
    </head>

    <!-- Navigation Bar -->
    <ul class = "navbar">
        <li><a href="https://noteify.azurewebsites.net/">Home</a></li>
        <li><a href="https://noteify.azurewebsites.net/login">Login</a></li>
        <li><a href="https://noteify.azurewebsites.net/projectProposal">About</a></li>
    </ul>

    <!-- Script for functions -->
    <script>
        async function login() {
            // Collect variables
            const uName = document.getElementById("username").value
            const pWord = document.getElementById("password").value

            if (uName == "" || pWord == "") {
                alert("ERROR: Missing required field(s)")
            } else {
                // Submit username and password to server
                alert("Loggin in")
                
                // to redirect users; remove alert function above
                window.location.href = 'https://noteify.azurewebsites.net/noteify/';
                
                // create fetch string with variables and send
                const fetchString = "/login?username="+uName+"&password="+pWord
                const response = await fetch(fetchString)
                const responseText = await response.text()
                console.log(responseText)
                return responseText
            }

        }
        
    </script>

    <!-- Header -->
    <body>
        <h1 class = "toptitle">Noteify</h1>
        <p class = "topsubtitle">Start Taking Note</p>
    
    <div class = "mainbody">
        <h2 style = "margin-top: 0;">Login</h2>
        <!-- Input boxes for username and password -->
        <div style = "margin-top: -1px; padding-bottom: 8px;">
            <form name = "usernameForm" class = "user-name" action="">
                <label class = "usernameBox" for = "username"></label>
                <input type = "text" id="username" placeholder = "Username" name = "username">            
        </div>

        <div style = "margin-top: -1px; padding-bottom: 8px;">
            <form name = "passwordForm" class = "pass-word" action="">
                <label class = "passwordBox" for = "password"></label>
                <input type = "text" id="password" placeholder = "Password" name = "password">            
        </div>
    </p>

    <button style = "border: 2px solid black; border-radius: 5%; margin: 10px;" class = "submitButton" 
        id = "Submit" type = "button" onclick = "login()">Login</button>

    <p>
        Don't have an account? Create one <a href="https://noteify.azurewebsites.net/login/createAccount"><u>here!</u></a>
    </p>

    <div style = "position: relative; text-align: center">
        <a href = "https://noteify.azurewebsites.net/login">
        <p class = "bottomnav"><span style = "border-radius: 10px; padding: 1px; border-width: 1px;
        background-color: rgb(233, 233, 233); border-style: solid;">&nbsp;www.noteify.com/login&nbsp;</span></p></a>
    </div>

    </body>

    </html>