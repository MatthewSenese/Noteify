<!DOCTYPE html>
    <html lang = 'en'>
    <!-- Matthew Senese, Matthew O'Malley, Jon Rayo -->

    <head>
        <meta charset = 'UTF-8'>
        <title>Noteify</title>
        <link rel = "stylesheet" href = "index.css">
        <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js"></script>

        <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">

    </head>

    <input style = "position: absolute; top: 10px; left: 10px; width: auto;
    font-family: fire; background-color: transparent; border: none" 
    class = "loggedIn" type = "text" id = "loggedInAs" readonly size = "30">

    <script>

        window.onload = function() {
        welcMsg(); };

        async function welcMsg() {

            const fetchString = "/islogged?"
            const response = await fetch(fetchString)
            const responseText = await response.text()

            document.getElementById('loggedInAs').value = "Welcome, " + responseText
            document.getElementById('loggedInAs').className = "hideIt";

            if (responseText.length > 6) {
                document.getElementById('loggedInAs').className = "show";
            }
        }

    </script>

    <!-- Navigation Bar -->
    <ul class = "navbar">
        <li><a href="https://noteify.azurewebsites.net/">Home</a></li>
        <li><a href="https://noteify.azurewebsites.net/login">Login</a></li>
        <li><a href="https://noteify.azurewebsites.net/logout">Logout</a></li>
        <li><a href="https://noteify.azurewebsites.net/noteify">Noteify</a></li>
        <li><a href="https://noteify.azurewebsites.net/notes">Notes</a></li>
        <li class = "hideIt"><a href="https://noteify.azurewebsites.net/projectProposal">About</a></li>
    </ul>

    <!-- Header -->
    <body>
        <h1 class = "toptitle">Noteify</h1>
        <p class = "topsubtitle">Start Taking Note</p>

    <div class = "mainbody">
        <h2 style = "margin-top: 0;">My Notes</h2>
        <p class = "bodytext">View my notes! This is the place where you can view your notes!. </p>


    <!-- Div styling for options buttons -->
    <div class = "dropdown">
        <label class="dropbtn" for="notes">View Notes</label>
        <select class="dropdown-content" name="notes" id="notes">
    
    </div>

    <!-- location bar at the bottom of the page -->
    <div style = "position: relative; text-align: center">
        <a href = "https://noteify.azurewebsites.net/noteify">
        <p class = "bottomnav"><span style = "border-radius: 10px; padding: 1px; border-width: 1px;
        background-color: rgb(233, 233, 233); border-style: solid;">&nbsp;www.noteify.com/notes&nbsp;</span></p></a>
    </div>
    <div id ="root"></div>
    <script>
    var firebaseConfig = {
        apiKey: "AIzaSyBQZNSXZK1EVIoez75smdeqEgS3yu3rwi0",
        authDomain: "noteify-d7193.firebaseapp.com",
        databaseURL: "https://noteify-d7193-default-rtdb.firebaseio.com",
        projectId: "noteify-d7193",
        storageBucket: "noteify-d7193.appspot.com",
        messagingSenderId: "259103554370",
        appId: "1:259103554370:web:bb31e247835601343266db",
        measurementId: "G-DXJET6RER1"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
var firebaseRef = firebase.database().ref("uk8FjYIV53Y8huMN7huGMhb7kGA2")
firebaseRef.on("value", function(snapshot) {
    snapshot.forEach(function(element) {
        document.querySelector('#root').innerHTML +=
        <div>${element.val()}</div>
    });
})
   

</script>
    </body>

    </html>